{"ast":null,"code":"import { createStore, applyMiddleware, bindActionCreators } from 'redux';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\nconst initialState = {\n  products: [],\n  searching: \"\",\n  status: 'Not yet loaded',\n  brands: [],\n  colours: [],\n  sizes: [],\n  subcats: [],\n  filteredSuggestions: [],\n  suggestions: [],\n  showSuggestions: false,\n  inputval: \"\"\n};\n\nconst reducer = (state = initialState, action) => {\n  if (action.type === 'loading') {\n    state = { ...state,\n      status: 'loading'\n    };\n    return state;\n  } else if (action.type === 'loaded') {\n    state = { ...state,\n      status: 'loaded',\n      products: action.payload\n    };\n    return state;\n  } else if (action.type === 'searched') {\n    state = { ...state,\n      status: 'searched',\n      test: action.payload\n    };\n    return state;\n  } else if (action.type === 'searching') {\n    state = { ...state,\n      status: 'searching',\n      products: action.payload\n    };\n    return state;\n  } else if (action.type === 'brandloaded') {\n    state = { ...state,\n      status: 'brandloaded',\n      brands: action.payload\n    };\n    return state;\n  } else if (action.type === 'colorloaded') {\n    state = { ...state,\n      status: 'colorloaded',\n      colours: action.payload\n    };\n    return state;\n  } else if (action.type === 'sizeloaded') {\n    state = { ...state,\n      status: 'sizeloaded',\n      sizes: action.payload\n    };\n    return state;\n  } else if (action.type === 'brandsearched') {\n    state = { ...state,\n      status: 'brandloaded',\n      brands: action.payload\n    };\n    return state;\n  } else if (action.type === 'colorsearched') {\n    state = { ...state,\n      status: 'colorloaded',\n      colours: action.payload\n    };\n    return state;\n  } else if (action.type === 'sizesearched') {\n    state = { ...state,\n      status: 'sizeloaded',\n      sizes: action.payload\n    };\n    return state;\n  } else if (action.type === 'suggestionloaded') {\n    const suggestions = action.payload;\n    console.log(\"suggestions\", suggestions);\n    var filteredSuggestions = [];\n    const inputval = action.input;\n\n    for (var i = 0; i < suggestions.length; i++) {\n      if (suggestions[i].details.toLowerCase().indexOf(inputval.toLowerCase()) > -1) {\n        const maindetails = suggestions[i].details;\n        const mainprice = suggestions[i].sellingprice;\n        const mainbrand = suggestions[i].brand;\n        filteredSuggestions.push({\n          maindetails,\n          mainprice,\n          mainbrand\n        });\n      }\n    }\n\n    console.log(\"filteredSuggestions\", filteredSuggestions);\n    state = { ...state,\n      status: 'suggestionloaded',\n      suggestions: action.payload,\n      inputval,\n      filteredSuggestions,\n      showSuggestions: true\n    };\n    return state;\n  }\n\n  return state;\n};\n\nconst store = createStore(reducer, applyMiddleware(thunk));\nexport const test = () => {\n  return {\n    type: 'testing',\n    payload: 'i am just testing'\n  };\n};\nexport const searcher = data => {\n  return dispatch => {\n    dispatch({\n      type: 'searched'\n    });\n    axios.post('http://localhost:5000/search', {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'searching',\n      payload: res.data\n    })).catch(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'brandsearching'\n    });\n    axios.post(`http://localhost:5000/searchbrand`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'brandsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'colorsearching'\n    });\n    axios.post(`http://localhost:5000/searchcolour`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'colorsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'sizesearching'\n    });\n    axios.post(`http://localhost:5000/searchsize`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'sizesearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nexport const getfilteredSuggestions = data => {\n  return dispatch => {\n    dispatch({\n      type: \"suggestions\"\n    });\n    axios.get(\"http://localhost:5000/suggestions/suggestion\").then(res => dispatch({\n      type: \"suggestionloaded\",\n      payload: res.data,\n      input: data\n    })).catch(err => console.log(err));\n  };\n};\nexport const getProducts = data => {\n  return dispatch => {\n    dispatch({\n      type: 'loading'\n    });\n    axios.get(`http://localhost:5000/${data}`).then(res => dispatch({\n      type: 'loaded',\n      payload: res.data\n    })).catch(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'brandloading'\n    });\n    axios.get(`http://localhost:5000/${data}/brand`).then(res => dispatch({\n      type: 'brandloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'colorloading'\n    });\n    axios.get(`http://localhost:5000/${data}/color`).then(res => dispatch({\n      type: 'colorloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'sizeloading'\n    });\n    axios.get(`http://localhost:5000/${data}/size`).then(res => dispatch({\n      type: 'sizeloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nstore.dispatch(getProducts);\nexport default store;","map":{"version":3,"sources":["C:/Users/user/mainprogram/ogbmain/src/store.js"],"names":["createStore","applyMiddleware","bindActionCreators","thunk","axios","initialState","products","searching","status","brands","colours","sizes","subcats","filteredSuggestions","suggestions","showSuggestions","inputval","reducer","state","action","type","payload","test","console","log","input","i","length","details","toLowerCase","indexOf","maindetails","mainprice","sellingprice","mainbrand","brand","push","store","searcher","data","dispatch","post","JSON","stringify","then","res","catch","err","getfilteredSuggestions","get","getProducts"],"mappings":"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","sourcesContent":["import {createStore, applyMiddleware, bindActionCreators} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport axios from 'axios'\r\n\r\nconst initialState ={\r\n    products: [],\r\n    searching:\"\",\r\n    status:'Not yet loaded',\r\n    brands: [],\r\n    colours: [],\r\n    sizes: [],\r\n    subcats:[],\r\n    filteredSuggestions:[],\r\n    suggestions:[],\r\n    showSuggestions: false,\r\n    inputval:\"\"\r\n}\r\nconst reducer= (state = initialState, action)=>{\r\n    if(action.type === 'loading'){\r\n      state = {...state , status: 'loading'}\r\n      return state;\r\n    }\r\n    else if(action.type === 'loaded'){\r\n        state = {...state , status: 'loaded', products: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'searched'){\r\n        state = {...state , status: 'searched', test: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'searching'){\r\n        state = {...state , status: 'searching', products: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'brandloaded'){\r\n        state = {...state , status: 'brandloaded', brands: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'colorloaded'){\r\n        state = {...state , status: 'colorloaded', colours: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'sizeloaded'){\r\n        state = {...state , status: 'sizeloaded', sizes: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'brandsearched'){\r\n        state = {...state , status: 'brandloaded', brands: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'colorsearched'){\r\n        state = {...state , status: 'colorloaded', colours: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'sizesearched'){\r\n        state = {...state , status: 'sizeloaded', sizes: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'suggestionloaded'){\r\n        const suggestions = action.payload;\r\n        console.log(\"suggestions\", suggestions)\r\n        var filteredSuggestions =[];\r\n       const inputval = action.input;\r\n        for(var i=0; i<suggestions.length; i++){\r\n          if(suggestions[i].details.toLowerCase().indexOf(inputval.toLowerCase()) > -1){\r\n                 const maindetails = suggestions[i].details;\r\n                 const mainprice = suggestions[i].sellingprice;\r\n                 const mainbrand = suggestions[i].brand;\r\n  \r\n                 filteredSuggestions.push({maindetails,mainprice,mainbrand})\r\n          }\r\n      }\r\n      console.log(\"filteredSuggestions\", filteredSuggestions)\r\n      state = {...state , status: 'suggestionloaded', suggestions: action.payload,inputval, filteredSuggestions, showSuggestions: true}\r\n      return state;\r\n    }\r\n    return state;\r\n}\r\nconst store = createStore(reducer, applyMiddleware(thunk))\r\n\r\nexport const test =()=>{ \r\n  return(\r\n    {type: 'testing', \r\n     payload: 'i am just testing'}\r\n  )\r\n}\r\nexport const searcher =(data)=>{\r\n  return (dispatch)=>{\r\n     dispatch({type: 'searched'})\r\n  axios.post('http://localhost:5000/search',{data: JSON.stringify(data)})\r\n  .then(res => dispatch({type:'searching',payload:res.data}))\r\n  .catch(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'brandsearching'})\r\n    axios.post(`http://localhost:5000/searchbrand`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'brandsearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'colorsearching'})\r\n    axios.post(`http://localhost:5000/searchcolour`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'colorsearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'sizesearching'})\r\n    axios.post(`http://localhost:5000/searchsize`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'sizesearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  }\r\n}\r\nexport const getfilteredSuggestions = data =>{\r\n  return (dispatch) =>{\r\n  dispatch({type: \"suggestions\"})\r\n  axios.get(\"http://localhost:5000/suggestions/suggestion\")\r\n  .then(res => dispatch({type:\"suggestionloaded\", payload:res.data, input:data}))\r\n  .catch(err => console.log(err))\r\n  }\r\n}\r\n export const getProducts = data =>{\r\n   return (dispatch)=>{\r\n      dispatch({type: 'loading'})\r\n    axios.get(`http://localhost:5000/${data}`)\r\n    .then(res => dispatch({type: 'loaded', payload: res.data}))\r\n    .catch(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'brandloading'})\r\n    axios.get(`http://localhost:5000/${data}/brand`)\r\n    .then(res=> dispatch({type: 'brandloaded', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'colorloading'})\r\n    axios.get(`http://localhost:5000/${data}/color`)\r\n    .then(res=> dispatch({type: 'colorloaded', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'sizeloading'})\r\n    axios.get(`http://localhost:5000/${data}/size`)\r\n    .then(res=> dispatch({type: 'sizeloaded', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n   }\r\n}\r\n   \r\n store.dispatch(getProducts)\r\n\r\nexport default store;"]},"metadata":{},"sourceType":"module"}