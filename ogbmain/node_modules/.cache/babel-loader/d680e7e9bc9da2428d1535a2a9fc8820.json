{"ast":null,"code":"import { createStore, applyMiddleware, bindActionCreators } from 'redux';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\nconst initialState = {\n  products: [],\n  searchedproducts: [],\n  searchedbrands: [],\n  searchedcolours: [],\n  searchedsizes: [],\n  searching: \"\",\n  status: 'Not yet loaded',\n  brands: [],\n  colours: [],\n  sizes: [],\n  price: 0,\n  subcats: [],\n  subcategories: [],\n  filteredSuggestions: [],\n  suggestions: [],\n  showSuggestions: false,\n  inputval: \"\"\n};\n\nconst reducer = (state = initialState, action) => {\n  if (action.type === 'loading') {\n    state = { ...state,\n      status: 'loading'\n    };\n    return state;\n  } else if (action.type === 'loaded') {\n    state = { ...state,\n      status: 'loaded',\n      products: action.payloadOne,\n      currentPage: action.payloadThree,\n      totalPages: action.payloadTwo,\n      numOfRows: action.payloadFour\n    };\n    console.log(\"no need for filter\");\n    return state;\n  } else if (action.type === 'filteritems') {\n    state = { ...state,\n      status: 'filtering',\n      products: action.payload,\n      currentPage: action.payloadThree,\n      totalPages: action.payloadTwo,\n      numOfRows: action.payloadFour\n    };\n    console.log(\"filter\", action.payload);\n    return state;\n  } else if (action.type === 'searched') {\n    state = { ...state,\n      status: 'searched',\n      test: action.payload\n    };\n    return state;\n  } else if (action.type === 'searching') {\n    state = { ...state,\n      status: 'searching',\n      searchedproducts: action.payload,\n      currentPage: action.payloadThree,\n      totalPages: action.payloadTwo,\n      numOfRows: action.payloadFour\n    };\n    console.log(\"this is state\", action.payloadFour);\n    return state;\n  } else if (action.type === 'submitsearched') {\n    state = { ...state,\n      status: 'submitsearched',\n      test: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitsearching') {\n    state = { ...state,\n      status: 'submitsearching',\n      searchedproducts: action.payload,\n      currentPage: action.payloadThree,\n      totalPages: action.payloadTwo,\n      numOfRows: action.payloadFour\n    };\n    return state;\n  } else if (action.type === 'brandloaded') {\n    state = { ...state,\n      status: 'brandloaded',\n      brands: action.payload\n    };\n    console.log(action.payload);\n    return state;\n  } else if (action.type === 'categoryloaded') {\n    state = { ...state,\n      status: 'categoryloaded',\n      subcategories: action.payload\n    };\n    return state;\n  } else if (action.type === 'colorloaded') {\n    state = { ...state,\n      status: 'colorloaded',\n      colours: action.payload\n    };\n    return state;\n  } else if (action.type === 'priceloaded') {\n    state = { ...state,\n      status: 'priceloaded',\n      price: action.payload\n    };\n    return state;\n  } else if (action.type === 'sizeloaded') {\n    state = { ...state,\n      status: 'sizeloaded',\n      sizes: action.payload\n    };\n    return state;\n  } else if (action.type === 'brandsearched') {\n    state = { ...state,\n      status: 'brandloaded',\n      searchedbrands: action.payload\n    };\n    return state;\n  } else if (action.type === 'colorsearched') {\n    state = { ...state,\n      status: 'colorloaded',\n      searchedcolours: action.payload\n    };\n    return state;\n  } else if (action.type === 'sizesearched') {\n    state = { ...state,\n      status: 'sizeloaded',\n      searchedsizes: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitbrandsearched') {\n    state = { ...state,\n      status: 'brandloaded',\n      searchedbrands: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitcolorsearched') {\n    state = { ...state,\n      status: 'colorloaded',\n      searchedcolours: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitsizesearched') {\n    state = { ...state,\n      status: 'sizeloaded',\n      searchedsizes: action.payload\n    };\n    return state;\n  } else if (action.type === 'suggestionloaded') {\n    const suggestions = action.payload;\n    var filteredSuggestions = [];\n    const inputval = action.input;\n\n    for (var i = 0; i < suggestions.length; i++) {\n      if (suggestions[i].details.toLowerCase().indexOf(inputval.toLowerCase()) > -1) {\n        const maindetails = suggestions[i].details;\n        const searchimg = suggestions[i].mainimg;\n        const mainbrand = suggestions[i].brand;\n        const mainsubcat1 = suggestions[i].subcat1;\n        const mainsubcat2 = suggestions[i].subcat2;\n        const mainsubcat3 = suggestions[i].subcat3;\n        filteredSuggestions.push({\n          maindetails,\n          searchimg,\n          mainbrand,\n          mainsubcat1,\n          mainsubcat2,\n          mainsubcat3\n        });\n      }\n    }\n\n    state = { ...state,\n      status: 'suggestionloaded',\n      suggestions: action.payload,\n      inputval,\n      filteredSuggestions,\n      showSuggestions: true\n    };\n    return state;\n  }\n\n  return state;\n};\n\nconst store = createStore(reducer, applyMiddleware(thunk));\nexport const test = () => {\n  return {\n    type: 'testing',\n    payload: 'i am just testing'\n  };\n};\nexport const searcher = data => {\n  return dispatch => {\n    dispatch({\n      type: 'searched'\n    });\n    axios.post('http://localhost:5000/search', {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'searching',\n      payload: res.data.files,\n      payloadTwo: res.data.numPages,\n      payloadThree: res.data.currentPage,\n      payloadFour: res.data.numOfRows\n    })).catch(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'brandsearching'\n    });\n    axios.post(`http://localhost:5000/searchbrand`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'brandsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'colorsearching'\n    });\n    axios.post(`http://localhost:5000/searchcolour`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'colorsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'sizesearching'\n    });\n    axios.post(`http://localhost:5000/searchsize`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'sizesearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nexport const submitsearcher = data => {\n  return dispatch => {\n    dispatch({\n      type: 'submitsearched'\n    });\n    axios.get(`http://localhost:5000/items/search?search=${data.search}&sort=${data.sort}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}&page=${data.page}`).then(res => dispatch({\n      type: 'submitsearching',\n      payload: res.data.files,\n      payloadTwo: res.data.numPages,\n      payloadThree: res.data.currentPage,\n      payloadFour: res.data.numOfRows\n    })).catch(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'submitbrandsearching'\n    });\n    axios.get(`http://localhost:5000/items/searchbrand?search=${data.search}&max=${data.max}&min=${data.min}&brand=${data.brand !== undefined ? data.brand : null}&size=${data.size}&colour=${data.colour}`).then(res => dispatch({\n      type: 'submitbrandsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'submitcolorsearching'\n    });\n    axios.get(`http://localhost:5000/items/searchcolour?search=${data.search}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`).then(res => dispatch({\n      type: 'submitcolorsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'sizesearching'\n    });\n    axios.get(`http://localhost:5000/items/searchsize?search=${data.search}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`).then(res => dispatch({\n      type: 'submitsizesearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nexport const checkfilter = data => {\n  return dispatch => {\n    dispatch({\n      type: \"filter\"\n    });\n    axios.get(`http://localhost:5000/items/filter/${data.category}?page=${parseInt(data.page)}&sort=${data.sort}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`).then(res => dispatch({\n      type: \"filteritems\",\n      payload: res.data.files,\n      payloadTwo: res.data.numPages,\n      payloadThree: res.data.currentPage,\n      payloadFour: res.data.numOfRows,\n      input: data.files\n    })).catch(err => console.log(err));\n  };\n};\nexport const getfilteredSuggestions = data => {\n  return dispatch => {\n    dispatch({\n      type: \"suggestions\"\n    });\n    axios.get(\"http://localhost:5000/suggestions/suggestion\").then(res => dispatch({\n      type: \"suggestionloaded\",\n      payload: res.data,\n      input: data\n    })).catch(err => console.log(err));\n  };\n};\nexport const getProducts = data => {\n  return dispatch => {\n    dispatch({\n      type: 'loading'\n    });\n    axios.get(`http://localhost:5000/${data.category}?page=${parseInt(data.page)}&sort=${data.sort}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`).then(res => dispatch({\n      type: 'loaded',\n      payloadOne: res.data.file,\n      payloadTwo: res.data.numPages,\n      payloadThree: res.data.currentPage,\n      payloadFour: res.data.numOfRows\n    })).catch(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'categoryloading'\n    });\n    axios.get(`http://localhost:5000/${data.category}/category?page=${data.page}`).then(res => dispatch({\n      type: 'categoryloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nexport const getsidenav = data => {\n  return dispatch => {\n    dispatch({\n      type: 'brandloading'\n    });\n    axios.get(`http://localhost:5000/${data}/brand`).then(res => dispatch({\n      type: 'brandloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'colorloading'\n    });\n    axios.get(`http://localhost:5000/${data}/color`).then(res => dispatch({\n      type: 'colorloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'sizeloading'\n    });\n    axios.get(`http://localhost:5000/${data}/size`).then(res => dispatch({\n      type: 'sizeloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'priceloading'\n    });\n    axios.get(`http://localhost:5000/${data}/price`).then(res => dispatch({\n      type: 'priceloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nstore.dispatch(getProducts);\nexport default store;","map":{"version":3,"sources":["C:/Users/user/mainprogram/ogbmain/src/store.js"],"names":["createStore","applyMiddleware","bindActionCreators","thunk","axios","initialState","products","searchedproducts","searchedbrands","searchedcolours","searchedsizes","searching","status","brands","colours","sizes","price","subcats","subcategories","filteredSuggestions","suggestions","showSuggestions","inputval","reducer","state","action","type","payloadOne","currentPage","payloadThree","totalPages","payloadTwo","numOfRows","payloadFour","console","log","payload","test","input","i","length","details","toLowerCase","indexOf","maindetails","searchimg","mainimg","mainbrand","brand","mainsubcat1","subcat1","mainsubcat2","subcat2","mainsubcat3","subcat3","push","store","searcher","data","dispatch","post","JSON","stringify","then","res","files","numPages","catch","err","submitsearcher","get","search","sort","max","min","size","colour","page","undefined","checkfilter","category","parseInt","getfilteredSuggestions","getProducts","file","getsidenav"],"mappings":"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","sourcesContent":["import {createStore, applyMiddleware, bindActionCreators} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport axios from 'axios'\r\n\r\nconst initialState ={\r\n    products: [],\r\n    searchedproducts:[],\r\n    searchedbrands:[],\r\n    searchedcolours:[],\r\n    searchedsizes:[],\r\n    searching:\"\",\r\n    status:'Not yet loaded',\r\n    brands: [],\r\n    colours: [],\r\n    sizes: [],\r\n    price : 0,\r\n    subcats:[],\r\n    subcategories:[],\r\n    filteredSuggestions:[],\r\n    suggestions:[],\r\n    showSuggestions: false,\r\n    inputval:\"\"\r\n}\r\nconst reducer= (state = initialState, action)=>{\r\n    if(action.type === 'loading'){\r\n      state = {...state , status: 'loading'}\r\n      return state;\r\n    }\r\n    else if(action.type === 'loaded'){\r\n        state = {...state , status: 'loaded', products: action.payloadOne,currentPage:action.payloadThree,totalPages:action.payloadTwo,numOfRows:action.payloadFour}\r\n        console.log(\"no need for filter\")\r\n        return state;\r\n      }\r\n      else if(action.type === 'filteritems'){\r\n        state = {...state , status: 'filtering', products: action.payload,currentPage:action.payloadThree, totalPages:action.payloadTwo,numOfRows:action.payloadFour}\r\n        console.log(\"filter\",action.payload)\r\n        return state;\r\n      }\r\n      else if(action.type === 'searched'){\r\n        state = {...state , status: 'searched', test: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'searching'){\r\n        state = {...state , status: 'searching', searchedproducts: action.payload,currentPage:action.payloadThree, totalPages:action.payloadTwo,numOfRows:action.payloadFour}\r\n        console.log(\"this is state\",action.payloadFour)\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitsearched'){\r\n        state = {...state , status: 'submitsearched', test: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitsearching'){\r\n        state = {...state , status: 'submitsearching', searchedproducts: action.payload,currentPage:action.payloadThree, totalPages:action.payloadTwo,numOfRows:action.payloadFour}\r\n        return state;\r\n      }\r\n      else if(action.type === 'brandloaded'){\r\n        state = {...state , status: 'brandloaded', brands: action.payload}\r\n        console.log(action.payload)\r\n        return state;\r\n      }\r\n      else if(action.type === 'categoryloaded'){\r\n        state = {...state , status: 'categoryloaded', subcategories: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'colorloaded'){\r\n        state = {...state , status: 'colorloaded', colours: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'priceloaded'){\r\n        state = {...state , status: 'priceloaded', price: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'sizeloaded'){\r\n        state = {...state , status: 'sizeloaded', sizes: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'brandsearched'){\r\n        state = {...state , status: 'brandloaded', searchedbrands: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'colorsearched'){\r\n        state = {...state , status: 'colorloaded', searchedcolours: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'sizesearched'){\r\n        state = {...state , status: 'sizeloaded', searchedsizes: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitbrandsearched'){\r\n        state = {...state , status: 'brandloaded', searchedbrands: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitcolorsearched'){\r\n        state = {...state , status: 'colorloaded', searchedcolours: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitsizesearched'){\r\n        state = {...state , status: 'sizeloaded', searchedsizes: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'suggestionloaded'){\r\n        const suggestions = action.payload;\r\n        \r\n        var filteredSuggestions =[];\r\n       const inputval = action.input;\r\n        for(var i=0; i<suggestions.length; i++){\r\n          if(suggestions[i].details.toLowerCase().indexOf(inputval.toLowerCase()) > -1){\r\n                 const maindetails = suggestions[i].details;\r\n                 const searchimg = suggestions[i].mainimg;\r\n                 const mainbrand = suggestions[i].brand;\r\n                 const mainsubcat1 = suggestions[i].subcat1;\r\n                 const mainsubcat2 = suggestions[i].subcat2;\r\n                 const mainsubcat3 = suggestions[i].subcat3;\r\n  \r\n                 filteredSuggestions.push({maindetails,searchimg,mainbrand,mainsubcat1,mainsubcat2,mainsubcat3 })\r\n          }\r\n      }\r\n      \r\n      state = {...state , status: 'suggestionloaded', suggestions: action.payload,inputval, filteredSuggestions, showSuggestions: true}\r\n      return state;\r\n    }\r\n    return state;\r\n}\r\nconst store = createStore(reducer, applyMiddleware(thunk))\r\n\r\nexport const test =()=>{ \r\n  return(\r\n    {type: 'testing', \r\n     payload: 'i am just testing'}\r\n  )\r\n}\r\nexport const searcher =(data)=>{\r\n  return (dispatch)=>{\r\n     dispatch({type: 'searched'})\r\n  axios.post('http://localhost:5000/search',{data: JSON.stringify(data)})\r\n  .then(res => dispatch({type:'searching',payload:res.data.files,payloadTwo:res.data.numPages,payloadThree: res.data.currentPage,payloadFour:res.data.numOfRows}))\r\n  .catch(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'brandsearching'})\r\n    axios.post(`http://localhost:5000/searchbrand`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'brandsearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'colorsearching'})\r\n    axios.post(`http://localhost:5000/searchcolour`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'colorsearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'sizesearching'})\r\n    axios.post(`http://localhost:5000/searchsize`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'sizesearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  }\r\n}\r\n\r\nexport const submitsearcher =(data)=>{\r\n  return (dispatch)=>{\r\n     dispatch({type: 'submitsearched'})\r\n  axios.get(`http://localhost:5000/items/search?search=${data.search}&sort=${data.sort}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}&page=${data.page}`)\r\n  .then(res => dispatch({type:'submitsearching',payload:res.data.files,payloadTwo:res.data.numPages,payloadThree: res.data.currentPage,payloadFour:res.data.numOfRows}))\r\n  .catch(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'submitbrandsearching'})\r\n  axios.get(`http://localhost:5000/items/searchbrand?search=${data.search}&max=${data.max}&min=${data.min}&brand=${data.brand !== undefined ?data.brand : null}&size=${data.size}&colour=${data.colour}`)\r\n  .then(res=> dispatch({type: 'submitbrandsearched', payload: res.data}))\r\n  .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'submitcolorsearching'})\r\n  axios.get(`http://localhost:5000/items/searchcolour?search=${data.search}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`)\r\n  .then(res=> dispatch({type: 'submitcolorsearched', payload: res.data}))\r\n  .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'sizesearching'})\r\n  axios.get(`http://localhost:5000/items/searchsize?search=${data.search}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`)\r\n  .then(res=> dispatch({type: 'submitsizesearched', payload: res.data}))\r\n  .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  }\r\n}\r\nexport const checkfilter = data =>{\r\n  return (dispatch) =>{\r\n  dispatch({type: \"filter\"})\r\n  axios.get(`http://localhost:5000/items/filter/${data.category}?page=${parseInt(data.page)}&sort=${data.sort}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`)\r\n  .then(res => dispatch({type:\"filteritems\", payload:res.data.files,payloadTwo:res.data.numPages,payloadThree: res.data.currentPage,payloadFour:res.data.numOfRows,input:data.files}))\r\n  .catch(err => console.log(err))\r\n  }\r\n}\r\n\r\nexport const getfilteredSuggestions = data =>{\r\n  return (dispatch) =>{\r\n  dispatch({type: \"suggestions\"})\r\n  axios.get(\"http://localhost:5000/suggestions/suggestion\")\r\n  .then(res => dispatch({type:\"suggestionloaded\", payload:res.data, input:data}))\r\n  .catch(err => console.log(err))\r\n  }\r\n}\r\n export const getProducts = data =>{\r\n   return (dispatch)=>{\r\n      dispatch({type: 'loading'})\r\n    axios.get(`http://localhost:5000/${data.category}?page=${parseInt(data.page)}&sort=${data.sort}&max=${data.max}&min=${data.min}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`)\r\n    .then(res => dispatch({type: 'loaded', payloadOne: res.data.file,payloadTwo:res.data.numPages,payloadThree: res.data.currentPage,payloadFour:res.data.numOfRows}))\r\n    .catch(err => dispatch({type: 'error', payload: err}))\r\n\r\n   dispatch({type: 'categoryloading'})\r\n   axios.get(`http://localhost:5000/${data.category}/category?page=${data.page}`)\r\n   .then(res=> dispatch({type: 'categoryloaded', payload: res.data}))\r\n   .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  }\r\n}\r\nexport const getsidenav = data =>{\r\n  return (dispatch)=>{\r\n \r\n   dispatch({type: 'brandloading'})\r\n   axios.get(`http://localhost:5000/${data}/brand`)\r\n   .then(res=> dispatch({type: 'brandloaded', payload: res.data}))\r\n   .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n   dispatch({type: 'colorloading'})\r\n   axios.get(`http://localhost:5000/${data}/color`)\r\n   .then(res=> dispatch({type: 'colorloaded', payload: res.data}))\r\n   .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n   dispatch({type: 'sizeloading'})\r\n   axios.get(`http://localhost:5000/${data}/size`)\r\n   .then(res=> dispatch({type: 'sizeloaded', payload: res.data}))\r\n   .then(err => dispatch({type: 'error', payload: err}))\r\n  \r\n   dispatch({type: 'priceloading'})\r\n   axios.get(`http://localhost:5000/${data}/price`)\r\n   .then(res=> dispatch({type: 'priceloaded', payload: res.data}))\r\n   .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n }\r\n}\r\n   \r\n store.dispatch(getProducts)\r\n\r\nexport default store;"]},"metadata":{},"sourceType":"module"}