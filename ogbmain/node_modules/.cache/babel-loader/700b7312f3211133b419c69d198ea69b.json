{"ast":null,"code":"import { createStore, applyMiddleware, bindActionCreators } from 'redux';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\nconst initialState = {\n  products: [],\n  searchedproducts: [],\n  searchedbrands: [],\n  searchedcolours: [],\n  searchedsizes: [],\n  searching: \"\",\n  status: 'Not yet loaded',\n  brands: [],\n  colours: [],\n  sizes: [],\n  subcats: [],\n  subcategories: [],\n  filteredSuggestions: [],\n  suggestions: [],\n  showSuggestions: false,\n  inputval: \"\"\n};\n\nconst reducer = (state = initialState, action) => {\n  if (action.type === 'loading') {\n    state = { ...state,\n      status: 'loading'\n    };\n    return state;\n  } else if (action.type === 'loaded') {\n    state = { ...state,\n      status: 'loaded',\n      products: action.payload\n    };\n    return state;\n  } else if (action.type === 'searched') {\n    state = { ...state,\n      status: 'searched',\n      test: action.payload\n    };\n    return state;\n  } else if (action.type === 'searching') {\n    state = { ...state,\n      status: 'searching',\n      searchedproducts: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitsearched') {\n    state = { ...state,\n      status: 'submitsearched',\n      test: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitsearching') {\n    state = { ...state,\n      status: 'submitsearching',\n      searchedproducts: action.payload\n    };\n    console.log(\"submit searched\", action.payload);\n    return state;\n  } else if (action.type === 'brandloaded') {\n    state = { ...state,\n      status: 'brandloaded',\n      brands: action.payload\n    };\n    return state;\n  } else if (action.type === 'categoryloaded') {\n    state = { ...state,\n      status: 'categoryloaded',\n      subcategories: action.payload\n    };\n    return state;\n  } else if (action.type === 'colorloaded') {\n    state = { ...state,\n      status: 'colorloaded',\n      colours: action.payload\n    };\n    return state;\n  } else if (action.type === 'sizeloaded') {\n    state = { ...state,\n      status: 'sizeloaded',\n      sizes: action.payload\n    };\n    return state;\n  } else if (action.type === 'brandsearched') {\n    state = { ...state,\n      status: 'brandloaded',\n      searchedbrands: action.payload\n    };\n    return state;\n  } else if (action.type === 'colorsearched') {\n    state = { ...state,\n      status: 'colorloaded',\n      searchedcolours: action.payload\n    };\n    return state;\n  } else if (action.type === 'sizesearched') {\n    state = { ...state,\n      status: 'sizeloaded',\n      searchedsizes: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitbrandsearched') {\n    state = { ...state,\n      status: 'brandloaded',\n      brands: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitcolorsearched') {\n    state = { ...state,\n      status: 'colorloaded',\n      colours: action.payload\n    };\n    return state;\n  } else if (action.type === 'submitsizesearched') {\n    state = { ...state,\n      status: 'sizeloaded',\n      sizes: action.payload\n    };\n    return state;\n  } else if (action.type === 'suggestionloaded') {\n    const suggestions = action.payload;\n    console.log(\"suggestions\", suggestions);\n    var filteredSuggestions = [];\n    const inputval = action.input;\n\n    for (var i = 0; i < suggestions.length; i++) {\n      if (suggestions[i].details.toLowerCase().indexOf(inputval.toLowerCase()) > -1) {\n        const maindetails = suggestions[i].details;\n        const searchimg = suggestions[i].mainimg;\n        const mainbrand = suggestions[i].brand;\n        const mainsubcat1 = suggestions[i].subcat1;\n        const mainsubcat2 = suggestions[i].subcat2;\n        const mainsubcat3 = suggestions[i].subcat3;\n        filteredSuggestions.push({\n          maindetails,\n          searchimg,\n          mainbrand,\n          mainsubcat1,\n          mainsubcat2,\n          mainsubcat3\n        });\n      }\n    }\n\n    console.log(\"filteredSuggestions\", filteredSuggestions);\n    state = { ...state,\n      status: 'suggestionloaded',\n      suggestions: action.payload,\n      inputval,\n      filteredSuggestions,\n      showSuggestions: true\n    };\n    return state;\n  }\n\n  return state;\n};\n\nconst store = createStore(reducer, applyMiddleware(thunk));\nexport const test = () => {\n  return {\n    type: 'testing',\n    payload: 'i am just testing'\n  };\n};\nexport const searcher = data => {\n  return dispatch => {\n    dispatch({\n      type: 'searched'\n    });\n    axios.post('http://localhost:5000/search', {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'searching',\n      payload: res.data\n    })).catch(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'brandsearching'\n    });\n    axios.post(`http://localhost:5000/searchbrand`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'brandsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'colorsearching'\n    });\n    axios.post(`http://localhost:5000/searchcolour`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'colorsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'sizesearching'\n    });\n    axios.post(`http://localhost:5000/searchsize`, {\n      data: JSON.stringify(data)\n    }).then(res => dispatch({\n      type: 'sizesearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nexport const submitsearcher = data => {\n  return dispatch => {\n    dispatch({\n      type: 'submitsearched'\n    });\n    axios.get(`http://localhost:5000/items/search?search=${data}`).then(res => dispatch({\n      type: 'submitsearching',\n      payload: res.data\n    })).catch(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'submitbrandsearching'\n    });\n    axios.get(`http://localhost:5000/items/searchbrand?search=${data}`).then(res => dispatch({\n      type: 'submitbrandsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'submitcolorsearching'\n    });\n    axios.get(`http://localhost:5000/items/searchcolour?search=${data}`).then(res => dispatch({\n      type: 'submitcolorsearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'sizesearching'\n    });\n    axios.get(`http://localhost:5000/items/searchsize?search=${data}`).then(res => dispatch({\n      type: 'submitsizesearched',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nexport const getfilteredSuggestions = data => {\n  return dispatch => {\n    dispatch({\n      type: \"suggestions\"\n    });\n    axios.get(\"http://localhost:5000/suggestions/suggestion\").then(res => dispatch({\n      type: \"suggestionloaded\",\n      payload: res.data,\n      input: data\n    })).catch(err => console.log(err));\n  };\n};\nexport const getProducts = data => {\n  return dispatch => {\n    dispatch({\n      type: 'loading'\n    });\n    axios.get(`http://localhost:5000/${data}`).then(res => dispatch({\n      type: 'loaded',\n      payload: res.data\n    })).catch(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'brandloading'\n    });\n    axios.get(`http://localhost:5000/${data}/brand`).then(res => dispatch({\n      type: 'brandloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'colorloading'\n    });\n    axios.get(`http://localhost:5000/${data}/color`).then(res => dispatch({\n      type: 'colorloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'sizeloading'\n    });\n    axios.get(`http://localhost:5000/${data}/size`).then(res => dispatch({\n      type: 'sizeloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n    dispatch({\n      type: 'categoryloading'\n    });\n    axios.get(`http://localhost:5000/${data}/category`).then(res => dispatch({\n      type: 'categoryloaded',\n      payload: res.data\n    })).then(err => dispatch({\n      type: 'error',\n      payload: err\n    }));\n  };\n};\nstore.dispatch(getProducts);\nexport default store;","map":{"version":3,"sources":["C:/Users/user/mainprogram/ogbmain/src/store.js"],"names":["createStore","applyMiddleware","bindActionCreators","thunk","axios","initialState","products","searchedproducts","searchedbrands","searchedcolours","searchedsizes","searching","status","brands","colours","sizes","subcats","subcategories","filteredSuggestions","suggestions","showSuggestions","inputval","reducer","state","action","type","payload","test","console","log","input","i","length","details","toLowerCase","indexOf","maindetails","searchimg","mainimg","mainbrand","brand","mainsubcat1","subcat1","mainsubcat2","subcat2","mainsubcat3","subcat3","push","store","searcher","data","dispatch","post","JSON","stringify","then","res","catch","err","submitsearcher","get","getfilteredSuggestions","getProducts"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,eAArB,EAAsCC,kBAAtC,QAA+D,OAA/D;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAE;AAChBC,EAAAA,QAAQ,EAAE,EADM;AAEhBC,EAAAA,gBAAgB,EAAC,EAFD;AAGhBC,EAAAA,cAAc,EAAC,EAHC;AAIhBC,EAAAA,eAAe,EAAC,EAJA;AAKhBC,EAAAA,aAAa,EAAC,EALE;AAMhBC,EAAAA,SAAS,EAAC,EANM;AAOhBC,EAAAA,MAAM,EAAC,gBAPS;AAQhBC,EAAAA,MAAM,EAAE,EARQ;AAShBC,EAAAA,OAAO,EAAE,EATO;AAUhBC,EAAAA,KAAK,EAAE,EAVS;AAWhBC,EAAAA,OAAO,EAAC,EAXQ;AAYhBC,EAAAA,aAAa,EAAC,EAZE;AAahBC,EAAAA,mBAAmB,EAAC,EAbJ;AAchBC,EAAAA,WAAW,EAAC,EAdI;AAehBC,EAAAA,eAAe,EAAE,KAfD;AAgBhBC,EAAAA,QAAQ,EAAC;AAhBO,CAApB;;AAkBA,MAAMC,OAAO,GAAE,CAACC,KAAK,GAAGlB,YAAT,EAAuBmB,MAAvB,KAAgC;AAC3C,MAAGA,MAAM,CAACC,IAAP,KAAgB,SAAnB,EAA6B;AAC3BF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE;AAApB,KAAR;AACA,WAAOW,KAAP;AACD,GAHD,MAIK,IAAGC,MAAM,CAACC,IAAP,KAAgB,QAAnB,EAA4B;AAC7BF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,QAApB;AAA8BN,MAAAA,QAAQ,EAAEkB,MAAM,CAACE;AAA/C,KAAR;AACA,WAAOH,KAAP;AACD,GAHE,MAIE,IAAGC,MAAM,CAACC,IAAP,KAAgB,UAAnB,EAA8B;AACjCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,UAApB;AAAgCe,MAAAA,IAAI,EAAEH,MAAM,CAACE;AAA7C,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,WAAnB,EAA+B;AAClCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,WAApB;AAAiCL,MAAAA,gBAAgB,EAAEiB,MAAM,CAACE;AAA1D,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,gBAAnB,EAAoC;AACvCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,gBAApB;AAAsCe,MAAAA,IAAI,EAAEH,MAAM,CAACE;AAAnD,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,iBAAnB,EAAqC;AACxCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,iBAApB;AAAuCL,MAAAA,gBAAgB,EAAEiB,MAAM,CAACE;AAAhE,KAAR;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8BL,MAAM,CAACE,OAArC;AACA,WAAOH,KAAP;AACD,GAJI,MAKA,IAAGC,MAAM,CAACC,IAAP,KAAgB,aAAnB,EAAiC;AACpCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,aAApB;AAAmCC,MAAAA,MAAM,EAAEW,MAAM,CAACE;AAAlD,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,gBAAnB,EAAoC;AACvCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,gBAApB;AAAsCK,MAAAA,aAAa,EAAEO,MAAM,CAACE;AAA5D,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,aAAnB,EAAiC;AACpCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,aAApB;AAAmCE,MAAAA,OAAO,EAAEU,MAAM,CAACE;AAAnD,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,YAAnB,EAAgC;AACnCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,YAApB;AAAkCG,MAAAA,KAAK,EAAES,MAAM,CAACE;AAAhD,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,eAAnB,EAAmC;AACtCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,aAApB;AAAmCJ,MAAAA,cAAc,EAAEgB,MAAM,CAACE;AAA1D,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,eAAnB,EAAmC;AACtCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,aAApB;AAAmCH,MAAAA,eAAe,EAAEe,MAAM,CAACE;AAA3D,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,cAAnB,EAAkC;AACrCF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,YAApB;AAAkCF,MAAAA,aAAa,EAAEc,MAAM,CAACE;AAAxD,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,qBAAnB,EAAyC;AAC5CF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,aAApB;AAAmCC,MAAAA,MAAM,EAAEW,MAAM,CAACE;AAAlD,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,qBAAnB,EAAyC;AAC5CF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,aAApB;AAAmCE,MAAAA,OAAO,EAAEU,MAAM,CAACE;AAAnD,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,oBAAnB,EAAwC;AAC3CF,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,YAApB;AAAkCG,MAAAA,KAAK,EAAES,MAAM,CAACE;AAAhD,KAAR;AACA,WAAOH,KAAP;AACD,GAHI,MAIA,IAAGC,MAAM,CAACC,IAAP,KAAgB,kBAAnB,EAAsC;AACzC,UAAMN,WAAW,GAAGK,MAAM,CAACE,OAA3B;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BV,WAA3B;AACA,QAAID,mBAAmB,GAAE,EAAzB;AACD,UAAMG,QAAQ,GAAGG,MAAM,CAACM,KAAxB;;AACC,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACZ,WAAW,CAACa,MAA3B,EAAmCD,CAAC,EAApC,EAAuC;AACrC,UAAGZ,WAAW,CAACY,CAAD,CAAX,CAAeE,OAAf,CAAuBC,WAAvB,GAAqCC,OAArC,CAA6Cd,QAAQ,CAACa,WAAT,EAA7C,IAAuE,CAAC,CAA3E,EAA6E;AACtE,cAAME,WAAW,GAAGjB,WAAW,CAACY,CAAD,CAAX,CAAeE,OAAnC;AACA,cAAMI,SAAS,GAAGlB,WAAW,CAACY,CAAD,CAAX,CAAeO,OAAjC;AACA,cAAMC,SAAS,GAAGpB,WAAW,CAACY,CAAD,CAAX,CAAeS,KAAjC;AACA,cAAMC,WAAW,GAAGtB,WAAW,CAACY,CAAD,CAAX,CAAeW,OAAnC;AACA,cAAMC,WAAW,GAAGxB,WAAW,CAACY,CAAD,CAAX,CAAea,OAAnC;AACA,cAAMC,WAAW,GAAG1B,WAAW,CAACY,CAAD,CAAX,CAAee,OAAnC;AAEA5B,QAAAA,mBAAmB,CAAC6B,IAApB,CAAyB;AAACX,UAAAA,WAAD;AAAaC,UAAAA,SAAb;AAAuBE,UAAAA,SAAvB;AAAiCE,UAAAA,WAAjC;AAA6CE,UAAAA,WAA7C;AAAyDE,UAAAA;AAAzD,SAAzB;AACN;AACJ;;AACDjB,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCX,mBAAnC;AACAK,IAAAA,KAAK,GAAG,EAAC,GAAGA,KAAJ;AAAYX,MAAAA,MAAM,EAAE,kBAApB;AAAwCO,MAAAA,WAAW,EAAEK,MAAM,CAACE,OAA5D;AAAoEL,MAAAA,QAApE;AAA8EH,MAAAA,mBAA9E;AAAmGE,MAAAA,eAAe,EAAE;AAApH,KAAR;AACA,WAAOG,KAAP;AACD;;AACD,SAAOA,KAAP;AACH,CAxFD;;AAyFA,MAAMyB,KAAK,GAAGhD,WAAW,CAACsB,OAAD,EAAUrB,eAAe,CAACE,KAAD,CAAzB,CAAzB;AAEA,OAAO,MAAMwB,IAAI,GAAE,MAAI;AACrB,SACE;AAACF,IAAAA,IAAI,EAAE,SAAP;AACCC,IAAAA,OAAO,EAAE;AADV,GADF;AAID,CALM;AAMP,OAAO,MAAMuB,QAAQ,GAAGC,IAAD,IAAQ;AAC7B,SAAQC,QAAD,IAAY;AAChBA,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACHrB,IAAAA,KAAK,CAACgD,IAAN,CAAW,8BAAX,EAA0C;AAACF,MAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAAP,KAA1C,EACCK,IADD,CACMC,GAAG,IAAIL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAC,WAAN;AAAkBC,MAAAA,OAAO,EAAC8B,GAAG,CAACN;AAA9B,KAAD,CADrB,EAECO,KAFD,CAEOC,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFtB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACErB,IAAAA,KAAK,CAACgD,IAAN,CAAY,mCAAZ,EAAgD;AAACF,MAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAAP,KAAhD,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,eAAP;AAAwBC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAArC,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACgD,IAAN,CAAY,oCAAZ,EAAiD;AAACF,MAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAAP,KAAjD,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,eAAP;AAAwBC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAArC,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACgD,IAAN,CAAY,kCAAZ,EAA+C;AAACF,MAAAA,IAAI,EAAEG,IAAI,CAACC,SAAL,CAAeJ,IAAf;AAAP,KAA/C,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,cAAP;AAAuBC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAApC,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAID,GArBD;AAsBD,CAvBM;AAwBP,OAAO,MAAMC,cAAc,GAAGT,IAAD,IAAQ;AACnC,SAAQC,QAAD,IAAY;AAChBA,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACHrB,IAAAA,KAAK,CAACwD,GAAN,CAAW,6CAA4CV,IAAK,EAA5D,EACCK,IADD,CACMC,GAAG,IAAIL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAC,iBAAN;AAAwBC,MAAAA,OAAO,EAAC8B,GAAG,CAACN;AAApC,KAAD,CADrB,EAECO,KAFD,CAEOC,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFtB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACwD,GAAN,CAAW,kDAAiDV,IAAK,EAAjE,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,qBAAP;AAA8BC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAA3C,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACwD,GAAN,CAAW,mDAAkDV,IAAK,EAAlE,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,qBAAP;AAA8BC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAA3C,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACwD,GAAN,CAAW,iDAAgDV,IAAK,EAAhE,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,oBAAP;AAA6BC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAA1C,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIC,GArBD;AAsBD,CAvBM;AAwBP,OAAO,MAAMG,sBAAsB,GAAGX,IAAI,IAAG;AAC3C,SAAQC,QAAD,IAAa;AACpBA,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACwD,GAAN,CAAU,8CAAV,EACCL,IADD,CACMC,GAAG,IAAIL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAC,kBAAN;AAA0BC,MAAAA,OAAO,EAAC8B,GAAG,CAACN,IAAtC;AAA4CpB,MAAAA,KAAK,EAACoB;AAAlD,KAAD,CADrB,EAECO,KAFD,CAEOC,GAAG,IAAI9B,OAAO,CAACC,GAAR,CAAY6B,GAAZ,CAFd;AAGC,GALD;AAMD,CAPM;AAQN,OAAO,MAAMI,WAAW,GAAGZ,IAAI,IAAG;AAChC,SAAQC,QAAD,IAAY;AAChBA,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACFrB,IAAAA,KAAK,CAACwD,GAAN,CAAW,yBAAwBV,IAAK,EAAxC,EACCK,IADD,CACMC,GAAG,IAAIL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,QAAP;AAAiBC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAA9B,KAAD,CADrB,EAECO,KAFD,CAEOC,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFtB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACwD,GAAN,CAAW,yBAAwBV,IAAK,QAAxC,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,aAAP;AAAsBC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAAnC,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACwD,GAAN,CAAW,yBAAwBV,IAAK,QAAxC,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,aAAP;AAAsBC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAAnC,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIAP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACwD,GAAN,CAAW,yBAAwBV,IAAK,OAAxC,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,YAAP;AAAqBC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAAlC,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIDP,IAAAA,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACArB,IAAAA,KAAK,CAACwD,GAAN,CAAW,yBAAwBV,IAAK,WAAxC,EACCK,IADD,CACMC,GAAG,IAAGL,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,gBAAP;AAAyBC,MAAAA,OAAO,EAAE8B,GAAG,CAACN;AAAtC,KAAD,CADpB,EAECK,IAFD,CAEMG,GAAG,IAAIP,QAAQ,CAAC;AAAC1B,MAAAA,IAAI,EAAE,OAAP;AAAgBC,MAAAA,OAAO,EAAEgC;AAAzB,KAAD,CAFrB;AAIA,GA1BA;AA2BF,CA5BO;AA8BPV,KAAK,CAACG,QAAN,CAAeW,WAAf;AAED,eAAed,KAAf","sourcesContent":["import {createStore, applyMiddleware, bindActionCreators} from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport axios from 'axios'\r\n\r\nconst initialState ={\r\n    products: [],\r\n    searchedproducts:[],\r\n    searchedbrands:[],\r\n    searchedcolours:[],\r\n    searchedsizes:[],\r\n    searching:\"\",\r\n    status:'Not yet loaded',\r\n    brands: [],\r\n    colours: [],\r\n    sizes: [],\r\n    subcats:[],\r\n    subcategories:[],\r\n    filteredSuggestions:[],\r\n    suggestions:[],\r\n    showSuggestions: false,\r\n    inputval:\"\"\r\n}\r\nconst reducer= (state = initialState, action)=>{\r\n    if(action.type === 'loading'){\r\n      state = {...state , status: 'loading'}\r\n      return state;\r\n    }\r\n    else if(action.type === 'loaded'){\r\n        state = {...state , status: 'loaded', products: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'searched'){\r\n        state = {...state , status: 'searched', test: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'searching'){\r\n        state = {...state , status: 'searching', searchedproducts: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitsearched'){\r\n        state = {...state , status: 'submitsearched', test: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitsearching'){\r\n        state = {...state , status: 'submitsearching', searchedproducts: action.payload}\r\n        console.log(\"submit searched\",action.payload)\r\n        return state;\r\n      }\r\n      else if(action.type === 'brandloaded'){\r\n        state = {...state , status: 'brandloaded', brands: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'categoryloaded'){\r\n        state = {...state , status: 'categoryloaded', subcategories: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'colorloaded'){\r\n        state = {...state , status: 'colorloaded', colours: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'sizeloaded'){\r\n        state = {...state , status: 'sizeloaded', sizes: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'brandsearched'){\r\n        state = {...state , status: 'brandloaded', searchedbrands: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'colorsearched'){\r\n        state = {...state , status: 'colorloaded', searchedcolours: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'sizesearched'){\r\n        state = {...state , status: 'sizeloaded', searchedsizes: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitbrandsearched'){\r\n        state = {...state , status: 'brandloaded', brands: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitcolorsearched'){\r\n        state = {...state , status: 'colorloaded', colours: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'submitsizesearched'){\r\n        state = {...state , status: 'sizeloaded', sizes: action.payload}\r\n        return state;\r\n      }\r\n      else if(action.type === 'suggestionloaded'){\r\n        const suggestions = action.payload;\r\n        console.log(\"suggestions\", suggestions)\r\n        var filteredSuggestions =[];\r\n       const inputval = action.input;\r\n        for(var i=0; i<suggestions.length; i++){\r\n          if(suggestions[i].details.toLowerCase().indexOf(inputval.toLowerCase()) > -1){\r\n                 const maindetails = suggestions[i].details;\r\n                 const searchimg = suggestions[i].mainimg;\r\n                 const mainbrand = suggestions[i].brand;\r\n                 const mainsubcat1 = suggestions[i].subcat1;\r\n                 const mainsubcat2 = suggestions[i].subcat2;\r\n                 const mainsubcat3 = suggestions[i].subcat3;\r\n  \r\n                 filteredSuggestions.push({maindetails,searchimg,mainbrand,mainsubcat1,mainsubcat2,mainsubcat3 })\r\n          }\r\n      }\r\n      console.log(\"filteredSuggestions\", filteredSuggestions)\r\n      state = {...state , status: 'suggestionloaded', suggestions: action.payload,inputval, filteredSuggestions, showSuggestions: true}\r\n      return state;\r\n    }\r\n    return state;\r\n}\r\nconst store = createStore(reducer, applyMiddleware(thunk))\r\n\r\nexport const test =()=>{ \r\n  return(\r\n    {type: 'testing', \r\n     payload: 'i am just testing'}\r\n  )\r\n}\r\nexport const searcher =(data)=>{\r\n  return (dispatch)=>{\r\n     dispatch({type: 'searched'})\r\n  axios.post('http://localhost:5000/search',{data: JSON.stringify(data)})\r\n  .then(res => dispatch({type:'searching',payload:res.data}))\r\n  .catch(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'brandsearching'})\r\n    axios.post(`http://localhost:5000/searchbrand`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'brandsearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'colorsearching'})\r\n    axios.post(`http://localhost:5000/searchcolour`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'colorsearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'sizesearching'})\r\n    axios.post(`http://localhost:5000/searchsize`, {data: JSON.stringify(data)})\r\n    .then(res=> dispatch({type: 'sizesearched', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  }\r\n}\r\nexport const submitsearcher =(data)=>{\r\n  return (dispatch)=>{\r\n     dispatch({type: 'submitsearched'})\r\n  axios.get(`http://localhost:5000/items/search?search=${data}`)\r\n  .then(res => dispatch({type:'submitsearching',payload:res.data}))\r\n  .catch(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'submitbrandsearching'})\r\n  axios.get(`http://localhost:5000/items/searchbrand?search=${data}`)\r\n  .then(res=> dispatch({type: 'submitbrandsearched', payload: res.data}))\r\n  .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'submitcolorsearching'})\r\n  axios.get(`http://localhost:5000/items/searchcolour?search=${data}`)\r\n  .then(res=> dispatch({type: 'submitcolorsearched', payload: res.data}))\r\n  .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  dispatch({type: 'sizesearching'})\r\n  axios.get(`http://localhost:5000/items/searchsize?search=${data}`)\r\n  .then(res=> dispatch({type: 'submitsizesearched', payload: res.data}))\r\n  .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  }\r\n}\r\nexport const getfilteredSuggestions = data =>{\r\n  return (dispatch) =>{\r\n  dispatch({type: \"suggestions\"})\r\n  axios.get(\"http://localhost:5000/suggestions/suggestion\")\r\n  .then(res => dispatch({type:\"suggestionloaded\", payload:res.data, input:data}))\r\n  .catch(err => console.log(err))\r\n  }\r\n}\r\n export const getProducts = data =>{\r\n   return (dispatch)=>{\r\n      dispatch({type: 'loading'})\r\n    axios.get(`http://localhost:5000/${data}`)\r\n    .then(res => dispatch({type: 'loaded', payload: res.data}))\r\n    .catch(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'brandloading'})\r\n    axios.get(`http://localhost:5000/${data}/brand`)\r\n    .then(res=> dispatch({type: 'brandloaded', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'colorloading'})\r\n    axios.get(`http://localhost:5000/${data}/color`)\r\n    .then(res=> dispatch({type: 'colorloaded', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n    dispatch({type: 'sizeloading'})\r\n    axios.get(`http://localhost:5000/${data}/size`)\r\n    .then(res=> dispatch({type: 'sizeloaded', payload: res.data}))\r\n    .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n   dispatch({type: 'categoryloading'})\r\n   axios.get(`http://localhost:5000/${data}/category`)\r\n   .then(res=> dispatch({type: 'categoryloaded', payload: res.data}))\r\n   .then(err => dispatch({type: 'error', payload: err}))\r\n\r\n  }\r\n}\r\n   \r\n store.dispatch(getProducts)\r\n\r\nexport default store;"]},"metadata":{},"sourceType":"module"}