{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\mainprogram\\\\ogbmain\\\\src\\\\searchsidenavbar.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { getProducts, submitsearcher } from './store';\nimport { compose } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\nimport axios from \"axios\";\n\nclass SearchSideNavbar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      const parsedQuery = queryString.parse(this.props.location.search);\n      const {\n        brand,\n        color,\n        sizes\n      } = parsedQuery;\n\n      if (parsedQuery.brand && parsedQuery.brand.length > 0) {\n        this.setState({\n          brand\n        });\n      }\n\n      if (parsedQuery.color && parsedQuery.color.length > 0) {\n        this.setState({\n          color\n        });\n      }\n\n      if (parsedQuery.sizes && parsedQuery.sizes.length > 0) {\n        this.setState({\n          sizes\n        });\n      }\n\n      const data = {\n        search: parsedQuery.search,\n        category: this.props.category,\n        brand: parsedQuery.brand,\n        size: parsedQuery.sizes,\n        colour: parsedQuery.color\n      };\n      console.log(data.search);\n      this.props.submitsearcher(data);\n      axios.get(`http://localhost:5000/category/searched/price?search=${data.search}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`).then(res => this.setState({\n        price: res.data\n      }, () => {\n        for (var i = 0; i < res.data.length; i++) {\n          console.log(res.data[i].highestprice);\n          this.setState({\n            highestprice: res.data[i].highestprice,\n            lowestprice: res.data[i].lowestprice\n          }, () => {\n            this.inputelement.max = `${this.state.highestprice}`;\n            this.inputelement.min = `${this.state.lowestprice}`;\n          });\n        }\n      })).then(err => console.warn(err));\n    };\n\n    this.change = e => {\n      const uri = window.location.href;\n      const n = uri.indexOf('?' + e.target.name);\n      console.log(n);\n\n      if (this.state.first === true) {\n        if (uri.indexOf(e.target.value) !== -1) {\n          const index = uri.indexOf(e.target.value);\n          const len = e.target.value.length;\n          const newIndex = uri.slice(0, index) + uri.slice(index + len + 1);\n          window.location.assign(newIndex);\n        } else if (uri.indexOf(e.target.name) !== -1) {\n          const index = uri.indexOf(e.target.name);\n          const len = e.target.value.length;\n          const newIndex = uri.slice(0, index + 6) + e.target.value + \",\" + uri.slice(index + 6);\n          window.location.assign(newIndex);\n        } else if (uri.indexOf('?') === -1) {\n          const seperator = \"?\" + e.target.name + \"=\";\n          this.setState({\n            first: !this.state.first\n          });\n          window.location.assign(uri + seperator + e.target.value);\n          return;\n        } else {\n          const seperator = \"&\" + e.target.name + \"=\";\n          this.setState({\n            first: !this.state.first\n          });\n          window.location.assign(uri + seperator + e.target.value);\n          return;\n        }\n      }\n    };\n\n    this.pricechange = e => {\n      this.setState({\n        highestprice: e.target.value,\n        applycolour: \"blue\"\n      });\n    };\n\n    this.highestpricechange = e => {\n      this.setState({\n        highestprice: e.target.value,\n        applycolour: \"blue\"\n      });\n    };\n\n    this.lowestpricechange = e => {\n      this.setState({\n        lowestprice: e.target.value,\n        applycolour: \"blue\"\n      });\n    };\n\n    this.brandchange = e => {\n      this.setState({\n        displaybrand: e.target.value\n      });\n      var filteredbrand = [];\n      this.props.searchedbrands.map(brand => {\n        if (brand.brand.toLowerCase().indexOf(e.target.value.toLowerCase()) > -1) {\n          filteredbrand.push(brand.brand);\n        }\n\n        this.setState({\n          filteredbrand\n        });\n      });\n    };\n\n    this.state = {\n      first: true,\n      applycolour: \"black\",\n      highestprice: 0,\n      lowestprice: 0,\n      price: {},\n      displaybrand: \"\",\n      displaysize: \"\",\n      filteredbrand: [],\n      filteredcolour: [],\n      parsedQuery: {\n        brand: [],\n        color: [],\n        sizes: []\n      },\n      brand: [],\n      color: [],\n      sizes: [],\n      subcats: []\n    };\n  }\n\n  render() {\n    console.log('state', this.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }, \"CATEGORIES\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, this.props.subcategories.map((subcategory, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: subcategory,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\",\n      style: {\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 54\n      }\n    }, \" \", subcategory.subcat2)), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\",\n      style: {\n        color: \"black\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 54\n      }\n    }, \" \", subcategory.subcat3), \" \")))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, \"PRICES (\\u20A6)\"), \" \", /*#__PURE__*/React.createElement(\"small\", {\n      style: {\n        float: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 43\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"\",\n      style: {\n        color: `${this.state.applycolour}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 75\n      }\n    }, \"Apply Filter\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 154\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"range\",\n      ref: a => this.inputelement = a,\n      name: \"price\",\n      min: \"\",\n      max: \"\",\n      value: this.state.highestprice,\n      onChange: this.pricechange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.lowestprice,\n      name: \"lowestprice\",\n      onChange: this.lowestpricechange,\n      style: {\n        width: \"100%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    })), \"-\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      value: this.state.highestprice,\n      style: {\n        width: \"100%\"\n      },\n      name: \"highestprice\",\n      onChange: this.highestpricechange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, \" CUSTOMER RATINGS\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    }, \"BRAND\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3 input-group-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        backgroundColor: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fa fa-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 81\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"search brands..\",\n      onChange: this.brandchange,\n      value: this.state.displaybrand,\n      className: \"form-control\",\n      style: {\n        borderLeft: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 10\n      }\n    })), this.props.searchedbrands.map(product => /*#__PURE__*/React.createElement(\"div\", {\n      key: product.brand,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 59\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 15\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"ul\", {\n      style: {\n        lineHeight: '1px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        listStyleType: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      onChange: this.change,\n      checked: this.state.brand.includes(product.brand) ? true : false,\n      name: \"brand\",\n      value: product.brand,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        color: \"black\"\n      },\n      href: `/product/${product.brand}?search=standing fan&brand=${product.brand}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, \" \", product.brand)))))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 16\n      }\n    }, \"COLOURS :\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 16\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }), this.props.searchedcolours.map(product => /*#__PURE__*/React.createElement(\"div\", {\n      key: product.color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"ul\", {\n      style: {\n        lineHeight: '1px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        listStyleType: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      onChange: this.change,\n      checked: this.state.color.includes(product.color) ? true : false,\n      name: \"color\",\n      value: product.color,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        color: \"black\"\n      },\n      href: `/product/${product.color}?search=standing fan&color=${product.color}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }\n    }, \" \", product.color)))))), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }\n    }), this.props.category === \"tv&audio\" && this.props.sizes.length > 2 ? /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 70\n      }\n    }, \"SCREEN SIZES\") : /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 100\n      }\n    }, \"SIZES\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3 input-group-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        backgroundColor: \"white\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"fa fa-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 81\n      }\n    }))), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"search sizes...\",\n      className: \"form-control\",\n      style: {\n        borderLeft: \"none\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 10\n      }\n    })), this.props.searchedsizes.length > 2 ? this.props.searchedsizes.map(product => /*#__PURE__*/React.createElement(\"div\", {\n      key: product.size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 81\n      }\n    }, /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"ul\", {\n      style: {\n        lineHeight: '1px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      style: {\n        listStyleType: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      onChange: this.change,\n      checked: this.state.sizes.includes(product.size) ? true : false,\n      name: \"sizes\",\n      value: product.size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        color: \"black\"\n      },\n      href: `/product/${product.size}?search=standing fan&size=${product.size}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, \" \", product.size)))))) : null);\n  }\n\n}\n\nconst mapStateToProps = store => {\n  return {\n    products: store.products,\n    searchedbrands: store.searchedbrands,\n    searchedcolours: store.searchedcolours,\n    searchedsizes: store.searchedsizes,\n    subcategories: store.subcategories\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getProducts: data => dispatch(getProducts(data)),\n    submitsearcher: data => dispatch(submitsearcher(data))\n  };\n};\n\nexport default compose(withRouter, connect(mapStateToProps, mapDispatchToProps))(SearchSideNavbar);","map":{"version":3,"sources":["C:/Users/user/mainprogram/ogbmain/src/searchsidenavbar.jsx"],"names":["React","Component","connect","getProducts","submitsearcher","compose","withRouter","queryString","axios","SearchSideNavbar","constructor","props","componentDidMount","parsedQuery","parse","location","search","brand","color","sizes","length","setState","data","category","size","colour","console","log","get","then","res","price","i","highestprice","lowestprice","inputelement","max","state","min","err","warn","change","e","uri","window","href","n","indexOf","target","name","first","value","index","len","newIndex","slice","assign","seperator","pricechange","applycolour","highestpricechange","lowestpricechange","brandchange","displaybrand","filteredbrand","searchedbrands","map","toLowerCase","push","displaysize","filteredcolour","subcats","render","subcategories","subcategory","subcat2","subcat3","float","a","width","backgroundColor","borderLeft","product","lineHeight","listStyleType","includes","searchedcolours","searchedsizes","mapStateToProps","store","products","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {getProducts,submitsearcher} from './store'\r\nimport {compose} from 'redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport queryString from 'query-string'\r\nimport axios from \"axios\"\r\n\r\nclass SearchSideNavbar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n             first:true,\r\n             applycolour:\"black\",\r\n             highestprice : 0,\r\n             lowestprice:0,\r\n             price:{},\r\n             displaybrand:\"\",\r\n             displaysize:\"\",\r\n             filteredbrand:[],\r\n             filteredcolour:[],\r\n             parsedQuery:{\r\n               brand:[],\r\n               color:[],\r\n               sizes:[],\r\n             },\r\n             brand:[],\r\n             color:[],\r\n             sizes:[],\r\n             subcats:[]\r\n         }\r\n    }\r\n    componentDidMount =()=>{\r\n\r\n      const parsedQuery = queryString.parse(this.props.location.search);\r\n      const {brand, color,sizes} = parsedQuery;\r\n      if(parsedQuery.brand && parsedQuery.brand.length > 0){\r\n        this.setState({brand}); \r\n      }\r\n      if(parsedQuery.color && parsedQuery.color.length > 0){\r\n        this.setState({color}); \r\n      }\r\n      if(parsedQuery.sizes && parsedQuery.sizes.length > 0){\r\n        this.setState({sizes}); \r\n      }\r\n     \r\n      const data={\r\n        search: parsedQuery.search,\r\n        category:this.props.category,\r\n        brand: parsedQuery.brand,\r\n        size: parsedQuery.sizes,\r\n        colour:parsedQuery.color\r\n      }\r\n      console.log(data.search)\r\n     this.props.submitsearcher(data)\r\n   \r\n     axios.get(`http://localhost:5000/category/searched/price?search=${data.search}&brand=${data.brand}&size=${data.size}&colour=${data.colour}`)\r\n .then(res=> this.setState({price:res.data}, ()=>{\r\n   for(var i=0; i<res.data.length; i++){\r\n    console.log (res.data[i].highestprice)\r\n    this.setState({highestprice:res.data[i].highestprice, lowestprice:res.data[i].lowestprice}, ()=> {\r\n      this.inputelement.max= `${this.state.highestprice}`\r\n      this.inputelement.min =`${this.state.lowestprice}`\r\n    })\r\n   }\r\n }))\r\n .then(err => console.warn(err))\r\n\r\n    }\r\n    change = (e)=>{\r\n      const uri = window.location.href;\r\n      const n = uri.indexOf('?'+e.target.name);\r\n      console.log(n)\r\n      if (this.state.first === true){\r\n        if(uri.indexOf(e.target.value) !== -1){\r\n          const index = uri.indexOf(e.target.value);\r\n          const len =e.target.value.length;\r\n          const newIndex = uri.slice(0, index) + uri.slice (index+len+1)\r\n          window.location.assign(newIndex)\r\n        }\r\n        else if(uri.indexOf(e.target.name) !== -1){\r\n          const index = uri.indexOf(e.target.name);\r\n          const len =e.target.value.length;\r\n          const newIndex= uri.slice(0, index+6) + e.target.value + \",\"+ uri.slice(index+6)\r\n          window.location.assign(newIndex)\r\n        }\r\n        else if(uri.indexOf('?') === -1){\r\n          const seperator =  \"?\"+e.target.name+\"=\";\r\n          this.setState({first:!this.state.first})\r\n         window.location.assign(uri + seperator + e.target.value)\r\n          return;\r\n        }\r\n        else{\r\n          const seperator =  \"&\"+e.target.name+\"=\";\r\n          this.setState({first:!this.state.first})\r\n         window.location.assign(uri + seperator + e.target.value)\r\n          return;\r\n        }\r\n     }\r\n     \r\n   }\r\n   pricechange = (e)=>{\r\n    this.setState({highestprice : e.target.value,applycolour : \"blue\"})\r\n  }\r\n  highestpricechange = (e) =>{\r\n   this.setState({highestprice : e.target.value,applycolour: \"blue\"})\r\n  }\r\n  lowestpricechange = (e) => {\r\n   this.setState({lowestprice : e.target.value, applycolour : \"blue\"})\r\n  }\r\n  brandchange=(e) =>{\r\n    this.setState({displaybrand: e.target.value})\r\n    var filteredbrand = []\r\n    this.props.searchedbrands.map(brand => {\r\n      if(brand.brand.toLowerCase().indexOf(e.target.value.toLowerCase()) > -1){\r\n       filteredbrand.push(brand.brand)\r\n      }\r\n      this.setState({filteredbrand})\r\n    })\r\n  }\r\n    render() { \r\n    console.log('state', this.state)\r\n        return ( \r\n            <div>\r\n              <small>CATEGORIES</small>\r\n              <br/>\r\n              <ul>\r\n              {this.props.subcategories.map((subcategory,index) =>\r\n                <div key={subcategory}>\r\n                  <a href=\"\" style={{color:\"black\"}}><small> {subcategory.subcat2}</small></a>\r\n                  <a href=\"\" style={{color:\"black\"}}><small> {subcategory.subcat3}</small> </a>                \r\n                </div>\r\n                )}\r\n                </ul>\r\n                <hr/>\r\n                <small>PRICES (â‚¦)</small> <small style={{float:\"right\"}}> <a href=\"\" style={{color:`${this.state.applycolour}`}}>Apply Filter</a></small><br/>\r\n                 <center>\r\n                <input type=\"range\" ref={(a)=> this.inputelement = a} name=\"price\" min=\"\" max=\"\" value={this.state.highestprice} onChange={this.pricechange}/>\r\n                <br/>\r\n                <div className=\"row\">\r\n                  <div className=\"col-5\">\r\n                    <input type=\"number\" value={this.state.lowestprice} name=\"lowestprice\" onChange={this.lowestpricechange} style={{width:\"100%\"}}/>\r\n                  </div>\r\n                  -\r\n                  <div className=\"col-5\">\r\n                  <input type=\"number\" value={this.state.highestprice} style={{width:\"100%\"}} name=\"highestprice\"  onChange={this.highestpricechange}/>\r\n                  </div>\r\n                </div>              \r\n              </center>\r\n              <hr/>\r\n              <small> CUSTOMER RATINGS</small>\r\n              <hr/>\r\n              <small>BRAND</small>\r\n              <div className=\"input-group mb-3 input-group-sm\">\r\n          <div className=\"input-group-prepend\" >\r\n           <span className=\"input-group-text\" style={{backgroundColor:\"white\"}}><span className=\"fa fa-search\"></span></span>\r\n         </div>\r\n         <input type=\"text\" placeholder=\"search brands..\" onChange={this.brandchange} value={this.state.displaybrand} className=\"form-control\" style={{borderLeft:\"none\"}} />\r\n        </div>\r\n\r\n               {this.props.searchedbrands.map(product =>  <div key={product.brand}>\r\n              <small> <ul style={{lineHeight:'1px'}}>\r\n            <li style={{listStyleType:'none'}}> \r\n<input type='checkbox' onChange={this.change} checked={this.state.brand.includes(product.brand) ? true : false } name='brand' value={product.brand}/>\r\n            <a style={{color:\"black\"}} href={`/product/${product.brand}?search=standing fan&brand=${product.brand}`}> {product.brand}\r\n         </a> \r\n            </li>\r\n              </ul></small>\r\n            </div>)}\r\n            <hr/>\r\n               <small>COLOURS :</small>\r\n               <br/><br/>\r\n            {this.props.searchedcolours.map(product =>  <div key={product.color}>\r\n              <small> <ul style={{lineHeight:'1px'}}>\r\n            <li style={{listStyleType:'none'}}> \r\n<input type='checkbox' onChange={this.change} checked={this.state.color.includes(product.color) ? true : false } name='color' value={product.color}/>\r\n            <a style={{color:\"black\"}} href={`/product/${product.color}?search=standing fan&color=${product.color}`}> {product.color}\r\n         </a> \r\n            </li>\r\n              </ul></small>\r\n            </div>)}\r\n            <hr/>\r\n            \r\n{this.props.category === \"tv&audio\" && this.props.sizes.length > 2 ? <small>SCREEN SIZES</small> : <small>SIZES</small>}\r\n              <div className=\"input-group mb-3 input-group-sm\">\r\n          <div className=\"input-group-prepend\" >\r\n           <span className=\"input-group-text\" style={{backgroundColor:\"white\"}}><span className=\"fa fa-search\"></span></span>\r\n         </div>\r\n         <input type=\"text\" placeholder=\"search sizes...\" className=\"form-control\" style={{borderLeft:\"none\"}} />\r\n        </div>\r\n\r\n{this.props.searchedsizes.length > 2 ? this.props.searchedsizes.map(product =>  <div key={product.size}>\r\n              <small> <ul style={{lineHeight:'1px'}}>\r\n            <li style={{listStyleType:'none'}}> \r\n<input type='checkbox' onChange={this.change} checked={this.state.sizes.includes(product.size) ? true : false } name='sizes' value={product.size}/>\r\n            <a style={{color:\"black\"}} href={`/product/${product.size}?search=standing fan&size=${product.size}`}> {product.size}\r\n         </a> \r\n            </li>\r\n              </ul></small>\r\n            </div>) : null}\r\n            </div>\r\n         );\r\n    }\r\n}\r\n const mapStateToProps =(store) =>{\r\n   return{\r\n    products:store.products,\r\n    searchedbrands:store.searchedbrands,\r\n    searchedcolours: store.searchedcolours,\r\n    searchedsizes: store.searchedsizes,\r\n    subcategories:store.subcategories,\r\n    \r\n   }\r\n }\r\n const mapDispatchToProps = (dispatch) =>{\r\n   return{\r\n    getProducts: (data)=> dispatch(getProducts(data)),\r\n    submitsearcher:(data) => dispatch(submitsearcher(data))\r\n   }\r\n }\r\nexport default compose(withRouter ,connect(mapStateToProps,mapDispatchToProps))(SearchSideNavbar);"]},"metadata":{},"sourceType":"module"}